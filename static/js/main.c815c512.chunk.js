(this["webpackJsonpgoit-react-hw-03-image-finder-03"]=this["webpackJsonpgoit-react-hw-03-image-finder-03"]||[]).push([[0],{12:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__18xn0",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__193Xf"}},13:function(e,a,t){e.exports={Overlay:"Modal_Overlay__3zur2",Modal:"Modal_Modal__JzWj5"}},25:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__2J8yT"}},26:function(e,a,t){e.exports={Button:"Button_Button__UUCg_"}},27:function(e,a,t){e.exports={loaderBox:"Loader_loaderBox__1DRRc"}},29:function(e,a,t){e.exports={App:"App_App__BDugx"}},34:function(e,a,t){},4:function(e,a,t){e.exports={SearchBar:"SearchBar_SearchBar__3nbAl",SearchForm:"SearchBar_SearchForm__2hSsC",SearchFormButton:"SearchBar_SearchFormButton__1ytoN",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__3fop5",SearchFormInput:"SearchBar_SearchFormInput__3YIDb"}},75:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t(23),o=t.n(r),c=(t(34),t(14)),s=t(5),l=t(6),i=t(8),u=t(7),m=t(10),h=t.n(m),d=t(24),g=t(11),p=t.n(g);p.a.defaults.baseURL="https://pixabay.com";var f="20731826-485a6ef4f9f6fa0c1feddacae",j=function(){var e=Object(d.a)(h.a.mark((function e(){var a,t,n,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:"",t=r.length>1&&void 0!==r[1]?r[1]:1,e.prev=2,e.next=5,p.a.get("/api/?q=".concat(a,"&page=").concat(t,"&key=").concat(f,"&image_type=photo&orientation=horizontal&per_page=12"));case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),b=t(4),y=t.n(b),O=t(0),_=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={searchQuery:""},e.handleChange=function(a){var t=a.target.value;e.setState({searchQuery:t})},e.handleSubmit=function(a){a.preventDefault(),e.props.onSubmit(e.state.searchQuery),e.setState({searchQuery:""})},e}return Object(l.a)(t,[{key:"render",value:function(){return Object(O.jsx)("header",{className:y.a.SearchBar,children:Object(O.jsxs)("form",{className:y.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(O.jsx)("button",{type:"submit",className:y.a.SearchFormButton,children:Object(O.jsx)("span",{className:y.a.SearchFormButtonLabel,children:"Search"})}),Object(O.jsx)("input",{className:y.a.SearchFormInput,type:"text",value:this.state.searchQuery,autocomplete:"off",autofocus:!0,placeholder:"Search images and photos",onChange:this.handleChange})]})})}}]),t}(n.Component),v=t(12),S=t.n(v),x=function(e){var a=e.image,t=e.openModal,n=e.largeImage,r=e.alt;return Object(O.jsx)("li",{className:S.a.ImageGalleryItem,id:a.id,onClick:function(){return t(n,r)},children:Object(O.jsx)("img",{className:S.a.ImageGalleryItemImage,src:a,alt:r})})},I=t(25),M=t.n(I),B=function(e){var a=e.images,t=e.openModal;return Object(O.jsx)("ul",{className:M.a.ImageGallery,children:a.map((function(e){return Object(O.jsx)(x,{image:e.webformatURL,alt:e.tags,largeImage:e.largeImageURL,openModal:t},e.id)}))})},w=t(26),L=t.n(w),k=function(e){var a=e.onHandleClickLoadMore;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("button",{className:L.a.button,type:"button",onClick:a,children:"Load more"})})},F=t(27),C=t.n(F),N=t(28),G=t.n(N),A=function(){return Object(O.jsx)("div",{className:C.a.loaderBox,children:Object(O.jsx)(G.a,{type:"TailSpin",color:"#00BFFF",height:50,width:50})})},U=t(13),q=t.n(U),D=function(e){var a=e.largeImage,t=e.alt,n=e.closeModal;return Object(O.jsx)("div",{className:q.a.Overlay,onClick:n,children:Object(O.jsx)("div",{className:q.a.Modal,children:Object(O.jsx)("img",{src:a,alt:t})})})},E=t(29),H=t.n(E),Q=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={images:[],page:1,query:"",isLoading:!1,isOpenModal:!1},e.fatchImages=function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.setState({isLoading:!0}),j(a,t).then((function(a){return 1===t?e.setState({images:a.hits,page:1}):e.setState((function(e){return{images:[].concat(Object(c.a)(e.images),Object(c.a)(a.hits))}}))})).finally((function(){return e.setState({isLoading:!1})}))},e.onSubmit=function(a){e.setState({query:a})},e.onHandleClickLoadMore=function(){e.setState((function(e){return{page:e.page+1}}))},e.openModal=function(a,t){e.setState({isOpenModal:!0,largeImage:a,alt:t}),window.addEventListener("keydown",e.closeModal)},e.closeModal=function(a){a.target!==a.currentTarget&&"Escape"!==a.key||(e.setState({isOpenModal:!1}),window.removeEventListener("keydown",e.closeModal))},e}return Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,a){var t=this.state,n=t.images,r=t.page,o=t.query;a.query===o?a.page===r?a.images!==n&&a.images.length>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}):this.fatchImages(o,r):this.fatchImages(o)}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.isLoading,n=e.largeImage,r=e.alt,o=e.isOpenModal;return Object(O.jsxs)("div",{className:H.a.App,children:[Object(O.jsx)(_,{onSubmit:this.onSubmit}),Object(O.jsx)(B,{images:a,openModal:this.openModal}),t&&Object(O.jsx)(A,{}),0!==a.length&&Object(O.jsx)(k,{onHandleClickLoadMore:this.onHandleClickLoadMore}),o&&Object(O.jsx)(D,{largeImage:n,alt:r,closeModal:this.closeModal})]})}}]),t}(n.Component);o.a.render(Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Q,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.c815c512.chunk.js.map